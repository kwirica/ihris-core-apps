import{L as c}from"./LineStyle-73f83ed4.js";import{C as v}from"./ChartLabel-2a451454.js";import{I as U}from"./ItemStyle-5172859d.js";import{_ as I,r as f,o as _,c as P,w as o,a as t,h as y,d as n,l as S,V,m as B,q as u}from"./index-5c26168b.js";import{V as x}from"./TextStyle-7779cfb0.js";import{d as k,h,g as r,i as p,j as m,k as b,l as g}from"./VisualizationBuilder-4a236344.js";import{V as d}from"./VCol-88ee311f.js";import{V as T}from"./VContainer-0ba64734.js";const W={emits:["chartSettings"],props:{option:Object},data(){return{expandLabelSettings:[],expandBackgroundStyleSettings:[],expandLabelLineSettings:[],expandBarsSettings:[],settings:{type:"bar",barWidth:"",barMaxWidth:"",barMinWidth:"",barGap:"30%",colorBy:"data",showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:"#000",borderWidth:0,borderType:"solid"},label:{show:!0,rotate:0,offset:[0,0],position:"inside"},labelLine:{show:!1,lineStyle:{}},itemStyle:{color:"auto",borderColor:"#000",borderWidth:0,borderType:"solid",shadowBlur:0,shadowColor:"",shadowOffsetX:0,shadowOffsetY:0},labelLayout:{draggable:!0},tooltip:{},markPoint:{}},displayBColor:!1,displayBBorderColor:!1,displayISBorderColor:!1,displayISShadowColor:!1,colorBy:["data","series"],borderTypes:["solid","dashed","dotted"],barGap:"",markPoint:!1}},mounted(){this.expandLabelSettings.push(0),this.expandBackgroundStyleSettings.push(0),this.expandLabelLineSettings.push(0),this.expandBarsSettings.push(0),setTimeout(()=>{this.expandLabelSettings=[],this.expandBackgroundStyleSettings=[],this.expandLabelLineSettings=[],this.expandBarsSettings=[]},500)},created(){if(this.option.series&&this.option.series.length>0){const s=this.option.series.find(e=>e.type==="bar");for(const e in s)this.settings[e]&&(this.settings[e]=s[e])}this.updated(),this.settings.barGap&&(this.barGap=this.settings.barGap.replace("%","")),this.settings.markPoint&&this.settings.markPoint.data&&(this.markPoint=!0)},methods:{markPointSwitch(){this.markPoint?this.settings.markPoint={data:[{type:"max"}],symbol:"pin"}:this.settings.markPoint={},this.updated()},barGapUpdated(){this.settings.barGap=this.barGap+"%"},barLabelSettings(s){this.settings.label=s,this.updated()},labelLineStyle(s){for(const e in s.value)this.settings.labelLine.lineStyle[e]=s.value[e];this.updated()},barStyle(s){for(const e in s.value)this.settings.itemStyle[e]=s.value[e];this.updated()},updated(){this.$emit("chartSettings",this.settings)}},components:{LineStyle:c,ChartLabel:v,ItemStyle:U}};function G(s,e,M,E,l,i){const C=f("ChartLabel"),L=f("LineStyle"),w=f("ItemStyle");return _(),P(T,{"grid-list-xs":""},{default:o(()=>[t(y,{modelValue:l.displayBColor,"onUpdate:modelValue":e[1]||(e[1]=a=>l.displayBColor=a),width:"313px"},{default:o(()=>[t(x,{class:"ma-2","canvas-height":"300",modelValue:l.settings.backgroundStyle.color,"onUpdate:modelValue":e[0]||(e[0]=a=>l.settings.backgroundStyle.color=a)},null,8,["modelValue"])]),_:1},8,["modelValue"]),t(y,{modelValue:l.displayBBorderColor,"onUpdate:modelValue":e[3]||(e[3]=a=>l.displayBBorderColor=a),width:"313px"},{default:o(()=>[t(x,{class:"ma-2","canvas-height":"300",modelValue:l.settings.backgroundStyle.borderColor,"onUpdate:modelValue":e[2]||(e[2]=a=>l.settings.backgroundStyle.borderColor=a)},null,8,["modelValue"])]),_:1},8,["modelValue"]),t(k,{items:l.colorBy,modelValue:l.settings.colorBy,"onUpdate:modelValue":e[4]||(e[4]=a=>l.settings.colorBy=a),label:"Color By",onChange:i.updated},null,8,["items","modelValue","onChange"]),t(h,{color:"blue",label:"Mark point in a chart",modelValue:l.markPoint,"onUpdate:modelValue":e[5]||(e[5]=a=>l.markPoint=a),onChange:i.markPointSwitch},{default:o(()=>[t(r,{activator:"parent",location:"bottom"},{default:o(()=>[n("Display a mark for the highest/minimum value on the line")]),_:1})]),_:1},8,["modelValue","onChange"]),t(h,{color:"blue",label:"Show background",modelValue:l.settings.showBackground,"onUpdate:modelValue":e[6]||(e[6]=a=>l.settings.showBackground=a),onChange:i.updated},{default:o(()=>[t(r,{activator:"parent",location:"bottom"},{default:o(()=>[n("Whether to show background behind each bar. Use backgroundStyle to set background style")]),_:1})]),_:1},8,["modelValue","onChange"]),t(p,{multiple:"",focusable:"",modelValue:l.expandBackgroundStyleSettings,"onUpdate:modelValue":e[13]||(e[13]=a=>l.expandBackgroundStyleSettings=a)},{default:o(()=>[t(m,null,{default:o(()=>[t(b,null,{default:o(()=>[n("Bar Background Style")]),_:1}),t(g,null,{default:o(()=>[t(S,null,{default:o(()=>[t(d,{cols:"6"},{default:o(()=>[n(" Color: ")]),_:1}),t(d,{cols:"6"},{default:o(()=>[t(V,{color:l.settings.backgroundStyle.color,width:"30px",height:"20",onClick:e[8]||(e[8]=a=>l.displayBColor=!0)},{default:o(()=>[t(B,{onClick:e[7]||(e[7]=a=>l.displayBColor=!0)})]),_:1},8,["color"])]),_:1}),t(d,{cols:"6"},{default:o(()=>[n(" Color: ")]),_:1}),t(d,{cols:"6"},{default:o(()=>[t(V,{color:l.settings.backgroundStyle.borderColor,width:"30px",height:"20",onClick:e[10]||(e[10]=a=>l.displayBBorderColor=!0)},{default:o(()=>[t(B,{onClick:e[9]||(e[9]=a=>l.displayBBorderColor=!0)})]),_:1},8,["color"])]),_:1}),t(d,{cols:"12"},{default:o(()=>[t(u,{modelValue:l.settings.backgroundStyle.borderWidth,"onUpdate:modelValue":e[11]||(e[11]=a=>l.settings.backgroundStyle.borderWidth=a),type:"number",label:"Border width",min:"0",max:"40",onInput:i.updated},{default:o(()=>[t(r,{activator:"parent",location:"bottom"},{default:o(()=>[n("The border width of bar. defaults to have no border")]),_:1})]),_:1},8,["modelValue","onInput"])]),_:1}),t(d,{cols:"12"},{default:o(()=>[t(k,{items:l.borderTypes,modelValue:l.settings.backgroundStyle.borderType,"onUpdate:modelValue":e[12]||(e[12]=a=>l.settings.backgroundStyle.borderType=a),label:"Border type",onInput:i.updated},null,8,["items","modelValue","onInput"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(p,{multiple:"",focusable:"",modelValue:l.expandLabelSettings,"onUpdate:modelValue":e[14]||(e[14]=a=>l.expandLabelSettings=a)},{default:o(()=>[t(m,null,{default:o(()=>[t(b,null,{default:o(()=>[n("Labels")]),_:1}),t(g,null,{default:o(()=>[t(C,{subscriber:"barLabel",onBarLabel:i.barLabelSettings,default:l.settings.label,values:l.settings.label},null,8,["onBarLabel","default","values"])]),_:1})]),_:1}),t(r,{activator:"parent",location:"bottom"},{default:o(()=>[n("Settings about labels of a bar")]),_:1})]),_:1},8,["modelValue"]),t(p,{multiple:"",focusable:"",modelValue:l.expandLabelLineSettings,"onUpdate:modelValue":e[16]||(e[16]=a=>l.expandLabelLineSettings=a)},{default:o(()=>[t(m,null,{default:o(()=>[t(b,null,{default:o(()=>[n("Label Line")]),_:1}),t(g,null,{default:o(()=>[t(S,null,{default:o(()=>[t(d,{cols:"12"},{default:o(()=>[t(h,{color:"blue",label:"Show/Hide",modelValue:l.settings.labelLine.show,"onUpdate:modelValue":e[15]||(e[15]=a=>l.settings.labelLine.show=a),onChange:i.updated},{default:o(()=>[t(r,{activator:"parent",location:"bottom"},{default:o(()=>[n("Show or Hide label line")]),_:1})]),_:1},8,["modelValue","onChange"])]),_:1}),t(d,{cols:"12"},{default:o(()=>[t(L,{subscriber:"labelLineStyle",onLabelLineStyle:i.labelLineStyle,values:l.settings.labelLine.lineStyle},null,8,["onLabelLineStyle","values"])]),_:1})]),_:1})]),_:1})]),_:1}),t(r,{activator:"parent",location:"bottom"},{default:o(()=>[n("Configuration of label guide line")]),_:1})]),_:1},8,["modelValue"]),t(p,{multiple:"",focusable:"",modelValue:l.expandBarsSettings,"onUpdate:modelValue":e[17]||(e[17]=a=>l.expandBarsSettings=a)},{default:o(()=>[t(m,null,{default:o(()=>[t(b,null,{default:o(()=>[n("Bars Settings")]),_:1}),t(g,null,{default:o(()=>[t(w,{subscriber:"barStyle",onBarStyle:i.barStyle,values:l.settings.itemStyle},null,8,["onBarStyle","values"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(u,{modelValue:l.settings.barWidth,"onUpdate:modelValue":e[18]||(e[18]=a=>l.settings.barWidth=a),type:"number",label:"Bar width",min:"0",max:"100",onInput:i.updated},{default:o(()=>[t(r,{activator:"parent",location:"bottom"},{default:o(()=>[n("The width of the bar. Adaptive when not specified")]),_:1})]),_:1},8,["modelValue","onInput"]),t(u,{modelValue:l.settings.barMaxWidth,"onUpdate:modelValue":e[19]||(e[19]=a=>l.settings.barMaxWidth=a),type:"number",label:"Bar maximum width",min:"0",max:"100",onInput:i.updated},{default:o(()=>[t(r,{activator:"parent",location:"bottom"},{default:o(()=>[n("The maximum width of the bar. Has higer priority than barWidth")]),_:1})]),_:1},8,["modelValue","onInput"]),t(u,{modelValue:l.settings.barMinWidth,"onUpdate:modelValue":e[20]||(e[20]=a=>l.settings.barMinWidth=a),type:"number",label:"Bar minimum width",min:"0",max:"100",onInput:i.updated},{default:o(()=>[t(r,{activator:"parent",location:"bottom"},{default:o(()=>[n("The minimum width of the bar. Has higer priority than barWidth")]),_:1})]),_:1},8,["modelValue","onInput"]),t(u,{modelValue:l.barGap,"onUpdate:modelValue":e[21]||(e[21]=a=>l.barGap=a),type:"number",label:"Gap between bars",min:"-100",max:"100",onInput:i.barGapUpdated,"append-icon":"mdi-percent"},null,8,["modelValue","onInput"])]),_:1})}const R=I(W,[["render",G]]);export{R as default};
